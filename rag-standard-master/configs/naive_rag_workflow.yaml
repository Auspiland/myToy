# ---- 프로젝트 설정 ----
project_name: "Naive RAG 표준화 데모"
description: "RAG 표준화 데모용"

# --- 그래프 선택 및 빌드 ---
graph_settings:
  # 그래프 빌더 함수가 있는 파이썬 모듈 경로
  module: "rag_standard.graph_workflow.graph" 
  # 그래프 빌더 함수 이름
  builder_function: "build_naive_rag_graph"
  # builder_args: {} # 필요시 빌더 함수에 전달할 인자

# --- 토크나이저 설정 (선택된 그래프/노드에 필요한 경우) ---
tokenizer:
  type: "KiwiTokenizer" # 사용할 토크나이저 클래스 (현재는 KiwiTokenizer 가정)
  included_pos_tags: # KiwiTokenizer 등에서 사용할 품사 태그 목록
    - NNG # 일반 명사
    - NNP # 고유 명사
    - VV  # 동사
    - VA  # 형용사
  dictionary_path: "" # 사용자 사전 경로 (프로젝트 루트 기준 상대 경로 또는 절대 경로)

# --- 노드 또는 파이프라인 특정 설정 ---
# 이 설정은 그래프 내 노드에서 state['config']를 통해 접근 가능
graph_node_config:
  vector_db_search: # vector_db_search 노드 관련 설정
    index_name: "rag_sample_project" # OpenSearch 인덱스 이름
    dense_vector_field: "text_dense" # Dense 벡터가 저장된 필드 이름
    sparse_vector_field: "text_sparse_kiwi" # Sparse 벡터(토큰)가 저장된 필드 이름
    k: 10 # KNN 검색 시 가져올 문서 수 (근접 이웃 수)
    size: 5 # 최종 반환할 문서 수
    search_type: "hybrid" # 검색 유형: "dense", "sparse", "hybrid"
    hybrid_search_config:
      normalization: "min_max" # score 정규화 유형: "min_max", "l2"
      combination: "arithmetic_mean" # score combination 유형: "arithmetic_mean", "geometric_mean", "harmonic_mean"
      weights: [0.3, 0.7]


  generate_answer: # generate_answer 노드 관련 설정
    system_prompt_template: "너는 T3Q 회사의 AI 비서이다. 사용자의 질문에 대해 문서를 참고하여 친절하고 정확하게 답변해야 한다."
    user_prompt_template: |
      ## 사용자 질문:
      {user_query}

      ## 참고 문서:
      {documents}

      ## 답변:
    temperature: 0.7 # 기타 LLM 호출 파라미터
    stream_output: true # <--- LLM 응답 스트리밍 여부 설정

# --- 평가 스크립트 설정 ---
evaluation_settings:
  qa_dataset_path: "data/QA/qa_dataset.parquet" # QA 데이터셋 Parquet 파일 경로 (프로젝트 루트 기준)
  results_output_dir: "benchmark" # 평가 결과 출력 디렉토리 (프로젝트 루트 기준)
  eval_type: "retrieval"  # 수행할 평가 유형: 'retrieval', 'generation', 또는 'all'
  k_retrieval: 5 # 검색 성능 지표(P@k, R@k, F1@k) 계산 시 사용할 k값